<div class="page-wrapper">
  <div class="content">
    <!-- Page Header -->
    <div class="page-header">
      <div class="row">
        <div class="col-sm-12">
          <ul class="breadcrumb">
            <ng-container *ngIf="fromParam?.toLowerCase() === 'log'; else defaultBreadcrumb">
              <li class="breadcrumb-item"><a [routerLink]="['/reports/logs']">Log Report</a></li>
              <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
              <li class="breadcrumb-item">
                <a [routerLink]="[routes.noteBcba.view, note_id]" [queryParams]="{ from: fromParam }">View Note</a>
              </li>
              <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
              <li class="breadcrumb-item active">Edit Note</li>
            </ng-container>
            <ng-template #defaultBreadcrumb>
              <li class="breadcrumb-item"><a [routerLink]="[routes.noteBcba.list, patient_identifier]">BCBA Notes</a></li>
              <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
              <li class="breadcrumb-item active">Edit Note</li>
            </ng-template>
          </ul>
          <div class="doctor-submit text-start">
            <button class="btn btn-primary btn-sm" (click)="goBack()">
              Back
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- /Page Header -->
    <div class="row">
      <!-- paciente -->
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <form autocomplete="false">
              <!-- paciente -->
              <div class="row align-items-center py-4">
                <div class="col-12 py-4">
                  <h4>Edit Note Bcba</h4>
                </div>
                
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >First Name <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="first_name"
                      disabled
                      [(ngModel)]="first_name"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label>Last Name <span class="login-danger">*</span></label>
                    <input
                      class="form-control"
                      name="last_name"
                      disabled
                      [(ngModel)]="last_name"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Patient ID <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="patient_identifier"
                      disabled
                      [(ngModel)]="patient_identifier"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Diagnosis Code <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="diagnosis_code"
                      disabled
                      [(ngModel)]="diagnosis_code"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label>Birth day <span class="login-danger">*</span></label>
                    <input
                      class="form-control datetimepicker"
                      disabled
                      name="birth_date"
                      [(ngModel)]="birth_date"
                      type="text"
                      matInput
                      [matDatepicker]="picker"
                    />
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-datepicker-toggle
                      matIconSuffix
                      [for]="picker"
                    ></mat-datepicker-toggle>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Rendering Provider
                      <span class="login-danger">*</span></label
                    >
                    <mat-select
                      [(ngModel)]="selectedValueProviderRBT_id"
                      name="rendering_provider"
                      [ngModelOptions]="{ standalone: true }"
                      class="form-control select"
                      (selectionChange)="selectSpecialist($event)"
                      placeholder="Select Specialist"
                    >
                      <mat-option
                        *ngFor="let data of roles_bcba"
                        [value]="data.id"
                      >
                        {{ data.name }} {{ data.surname }}
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Supervisor<span class="login-danger">*</span></label
                    >
                    <mat-select
                      [(ngModel)]="selectedValueBcba_id"
                      name="aba_supervisor"
                      [ngModelOptions]="{ standalone: true }"
                      class="form-control select"
                      (selectionChange)="selectSpecialistBCBA($event)"
                      placeholder="Select Specialist"
                    >
                      <mat-option
                        *ngFor="let data of specialists"
                        [value]="data.id"
                      >
                        {{ data.name }} {{ data.surname }}
                      </mat-option>
                    </mat-select>
                  </div>
                </div>

                



                <!-- DOS -->
                <div class="col-12 col-md-3">
                  <div class="form-group local-forms">
                    <label>DOS <span class="login-danger">*</span></label>
                    <input
                      class="form-control datetimepicker"
                      autocomplete="false"
                      name="session_date"
                      [(ngModel)]="session_date"
                      type="text"
                      matInput
                      [matDatepicker]="pickerSesDate"
                    />
                    <mat-datepicker #pickerSesDate></mat-datepicker>
                    <mat-datepicker-toggle
                      matIconSuffix
                      [for]="pickerSesDate"
                    ></mat-datepicker-toggle>
                  </div>
                </div>
                <!-- POS -->
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >POS
                      <span class="login-danger">*</span></label
                    >
                    <select
                      class="form-control form-select-solid fw-bolder"
                      name="meet_with_client_at"
                      [(ngModel)]="meet_with_client_at"
                    >
                      <option>-- Select --</option>
                      <option value="03">03 School</option>
                      <option value="12">12 Home</option>
                      <option value="02">02 Telehealth</option>
                      <option value="99">99 Other</option>
                    </select>
                  </div>
                </div>
                <div class="clear"></div>

                <div class="row">
                  <div class="col-xs-12 col-sm-6">
                    <h5 class="mb-3">Morning Session</h5>
                    <div class="row">
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-group local-forms">
                          <label
                            >Time In <span class="login-danger">*</span></label
                          >
                          <input
                            [value]="selectedValueTimeIn"
                            [ngxTimepicker]="toggleTimepicker"
                            readonly
                            [format]="24"
                            class="form-control"
                            [(ngModel)]="selectedValueTimeIn"
                            name="time_in"
                          />
                          <ngx-material-timepicker
                            (timeChanged)="hourTimeInSelected($event)"
                            #toggleTimepicker
                          ></ngx-material-timepicker>
                        </div>
                      </div>
                      <!-- [max]="'12:00'" -->
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-group local-forms">
                          <label
                            >Time Out <span class="login-danger">*</span></label
                          >
                          <input
                            [ngxTimepicker]="toggleTimepicker2"
                            readonly
                            [value]="selectedValueTimeOut"
                            [(ngModel)]="selectedValueTimeOut"
                            [format]="24"
                            class="form-control"
                            name="time_out"
                          />
                          <!-- <ngx-material-timepicker-toggle [for]="toggleTimepicker2"></ngx-material-timepicker-toggle> -->
                          <ngx-material-timepicker
                            (timeChanged)="hourTimeOutSelected($event)"
                            #toggleTimepicker2
                          ></ngx-material-timepicker>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h5 class="mb-3">Afternoon Session</h5>
                    <div class="row">
                      <!-- [min]="'12:00'" -->
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-group local-forms">
                          <label
                            >Time In<span class="login-danger">*</span></label
                          >
                          <input
                            [ngxTimepicker]="toggleTimepicker3"
                            readonly
                            [value]="selectedValueTimeIn2"
                            [(ngModel)]="selectedValueTimeIn2"
                            [format]="24"
                            class="form-control"
                            name="time_in2"
                          />
                          <!-- <ngx-material-timepicker-toggle [for]="toggleTimepicker3"></ngx-material-timepicker-toggle> -->
                          <ngx-material-timepicker
                            (timeChanged)="hourTimeIn2Selected($event)"
                            #toggleTimepicker3
                          ></ngx-material-timepicker>
                        </div>
                      </div>

                      <!-- [min]="'12:00'" -->
                      <div class="col-xs-12 col-sm-6">
                        <div class="form-group local-forms">
                          <label
                            >Time Out <span class="login-danger">*</span></label
                          >
                          <input
                            [ngxTimepicker]="toggleTimepicker4"
                            readonly
                            [value]="selectedValueTimeOut2"
                            [(ngModel)]="selectedValueTimeOut2"
                            [format]="24"
                            class="form-control"
                            name="time_out2"
                          />
                          <!-- <ngx-material-timepicker-toggle [for]="toggleTimepicker4"></ngx-material-timepicker-toggle> -->
                          <ngx-material-timepicker
                            (timeChanged)="hourTimeOut2Selected($event)"
                            #toggleTimepicker4
                          ></ngx-material-timepicker>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Session Length Total<span class="login-danger"
                        >*</span
                      ></label
                    >
                    <p class="text-center p-3">
                      {{session_length_total}}
                    </p>
                  </div>
                </div>

                <!--  units -->
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >CPT Code <span class="login-danger">*</span></label
                    >
                    <mat-select
                      [(ngModel)]="selectedPaService"
                      name="pa_service"
                      (selectionChange)="onPaServiceSelect($event)"
                      class="form-control select"
                      placeholder="Select Service"
                    >
                      <mat-option
                        *ngFor="let service of pa_services"
                        [value]="service"
                      >
                        {{ service.pa_service }} ({{ service.cpt }})
                      </mat-option>
                    </mat-select>
                  </div>
                </div>

                <!-- CPT Code51 -->
                <div *ngIf=" show97151 || show971511 || show971512 " class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label>Type <span class="login-danger">*</span></label>
                    <mat-select
                      [(ngModel)]="selectedPaService1"
                      name="pa_service"
                      (selectionChange)="onPaServiceSelect2($event)"
                      class="form-control select"
                      placeholder="Select Service"
                    >
                      <mat-option
                        *ngFor="let service of show97151List"
                        [value]="service"
                      >
                        ({{ service.cpt }})
                      </mat-option>
                    </mat-select>
                    
                  </div>
                </div>
                 <!-- CPT Code51 -->

               
                <!-- PA Service Calculator Information -->
                <div class="col-12 col-md-6 col-xl-4">
                  <app-pa-service-calculator
                    [selectedPaService]="selectedPaService"
                    [projectedUnits]="projectedUnits">
                  </app-pa-service-calculator>
                </div>

                <div class="col-12 col-md-6 col-xl-4">
                  <app-units-display
                    [service]="selectedPaService"
                    [newUnits]="projectedUnits">
                  </app-units-display>
                </div>
                <!--  fin units -->
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label>Environmental Changes <span class="login-danger">*</span></label>
                    <input
                      class="form-control"
                      name="environmental_changes"
                      [(ngModel)]="environmental_changes"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label>Present this session <span class="login-danger">*</span></label>
                    <input
                      class="form-control"
                      name="participants"
                      [(ngModel)]="participants"
                      type="text"
                    />
                  </div>
                </div>


              </div>
              <!-- paciente -->
            </form>
          </div>
        </div>
      </div>
      <!-- fin paciente -->



      <!-- !show97155 && !show97156 -->
      <ng-container  *ngIf="!show97155 && !show97156 && !show97151 && !show971512">
        <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <div class="col-12">
                <h5>Caregiver Goal</h5>
                <p class="text-danger">
                  Note: Please fill out all fields. If you didn't have any
                  reaction, enter "0"
                </p>
              </div>
              <div class="table-responsive">
                <table class="table mb-0">
                  <thead>
                    <tr>
                      <th>Caregiver Goal</th>
                      <th>% of Occurrences</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="
                        let goal of caregivers_training_goals;
                        let i = index
                      "
                    >
                      <td>{{ goal.caregiver_goal }}</td>
                      <td>
                        <input
                          class="form-control"
                          type="number"
                          [(ngModel)]="goal.porcent_of_correct_response"
                          (ngModelChange)="updateCaregiverGoal(i)"
                        />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- fin Family -->
        <!-- Monitoring  full-->
        <!-- <div class="col-xs-12 col-sm-6"  >
          <div class="card">
            <div class="card-body">
              <div class="col-12">
                <h4>RBT Training goals</h4>
                <p class="text-danger">
                  Note: Please fill out all fields. If you didn't have any
                  reaction, enter "0"
                </p>
              </div>
              <div class="table-responsive">
                <table class="table mb-0">
                  <thead>
                    <tr>
                      <th>RBT Training Goal</th>
                      <th>% of correct responses</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let goal of rbt_training_goals; let i = index">
                      <td>{{ goal.lto }}</td>
                      <td>
                        <input
                          class="form-control"
                          type="number"
                          [(ngModel)]="goal.porcent_of_correct_response"
                          (ngModelChange)="updateRbtGoal(i)"
                        />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div> -->
        <!-- fin Monitoring -->
      </ng-container>

      
       <!--   only 51 -1-->
      <ng-container  *ngIf=" show971511" >
            <!-- BCBA conducted -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12 col-md-6">
                      <h5>BCBA conducted client observations</h5>
                      <div class="form-group ">
                        <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                          <input _ngcontent-rhp-c92="" type="checkbox" 
                          id="BCBA_conducted_client_observations"  class="check"
                           name="BCBA_conducted_client_observations" [checked]="BCBA_conducted_client_observations === true" 
                           [ngModelOptions]="{standalone: true}" 
                           [(ngModel)]="BCBA_conducted_client_observations">
                          <label _ngcontent-rhp-c92="" for="BCBA_conducted_client_observations" class="checktoggle" value="true">checkbox</label>
                      </div>
                    </div>
                    </div>
                    <div class="col-12 col-md-6">
                      <h5>BCBA conducted assessments</h5>
                      <div class="form-group ">
                        <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                          <input _ngcontent-rhp-c92="" type="checkbox" 
                          id="BCBA_conducted_assessments"  class="check"
                           name="BCBA_conducted_assessments" [checked]="BCBA_conducted_assessments === true" 
                           [ngModelOptions]="{standalone: true}" 
                           [(ngModel)]="BCBA_conducted_assessments">
                          <label _ngcontent-rhp-c92="" for="BCBA_conducted_assessments" class="checktoggle" value="true">checkbox</label>
                      </div>
                    </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- BCBA conducted -->
            <!-- newList -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <app-newlist
                  [newList]="newList"
                  (interventionsChange)="onNewListChange($event)"
                  ></app-newlist>
                </div>
              </div>
            </div>
            <!-- newList -->
            <!-- intake and outcome measures: -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <app-intakeoutcome
                  [outcomeList]="outcomeList"
                  (interventionsChange)="onIntakeoutcomeChange($event)"
                  ></app-intakeoutcome>
                </div>
              </div>
            </div>
            <!-- intake and outcome measures: -->
      </ng-container>
       <!--   only 51 -2-->
       <ng-container  *ngIf=" show971512" >
        <!-- modifications needed at this time -->
        <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-12 col-md-6">
                  <h5>BCBA conducted client observations</h5>
                  <div class="form-group ">
                    <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                      <input _ngcontent-rhp-c92="" type="checkbox" 
                      id="BCBA_conducted_client_observations"  class="check"
                       name="BCBA_conducted_client_observations" [checked]="BCBA_conducted_client_observations === true" 
                       [ngModelOptions]="{standalone: true}" 
                       [(ngModel)]="BCBA_conducted_client_observations">
                      <label _ngcontent-rhp-c92="" for="BCBA_conducted_client_observations" class="checktoggle" value="true">checkbox</label>
                  </div>
                </div>
                </div>
                <div class="col-12 col-md-6">
                  <h5>BCBA conducted assessments</h5>
                  <div class="form-group ">
                    <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                      <input _ngcontent-rhp-c92="" type="checkbox" 
                      id="BCBA_conducted_assessments"  class="check"
                       name="BCBA_conducted_assessments" [checked]="BCBA_conducted_assessments === true" 
                       [ngModelOptions]="{standalone: true}" 
                       [(ngModel)]="BCBA_conducted_assessments">
                      <label _ngcontent-rhp-c92="" for="BCBA_conducted_assessments" class="checktoggle" value="true">checkbox</label>
                  </div>
                </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- modifications needed at this time -->
        </ng-container>

        <!--  only 56 -->
      <ng-container  *ngIf="show97156">
        
        <!-- Intervention protocols -->
        <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <app-interventions3
              [interventionsList2]="interventionsList2"
              (update)="onInterventions2Change($event)"
              ></app-interventions3>
            </div>
          </div>
        </div>
        <!-- Intervention protocols -->
         <!-- replacements protocols -->
         <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <app-replacements [replacementList]="replacementList"
                  (replacementChange)="onReplacementChange($event)"></app-replacements>
            </div>
          </div>
        </div>
        <!-- replacements protocols -->
         <!-- behaviors -->
         <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <app-behaviors [behaviorList]="behaviorList"
                  (behaviorsChange)="onBehaviorChange($event)"></app-behaviors>
            </div>
          </div>
        </div>
        <!-- behaviors -->
         <!-- formulario varios -->
         <div class="col-xs-12" >
          <div class="card">
            <div class="card-body">
              <div class="col-12">
                <div class="row">
                  <div class="col-12 col-md-6 ">
                    <div class="form-group ">
                      <div _ngcontent-rhp-c92="" class="card-header d-flex justify-content-between align-items-center">
                          <h5 _ngcontent-rhp-c92="" class="card-title">Cargiver Participation</h5>
                          <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                              <input _ngcontent-rhp-c92="" type="checkbox" 
                              id="cargiver_participation"  class="check"
                              name="cargiver_participation" [checked]="cargiver_participation === true" 
                              [ngModelOptions]="{standalone: true}" 
                              [(ngModel)]="cargiver_participation">
                              <label _ngcontent-rhp-c92="" for="cargiver_participation" class="checktoggle" value="true">checkbox</label>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-md-6">

                    <div class="form-group ">
                        <div _ngcontent-rhp-c92="" class="card-header d-flex justify-content-between align-items-center">
                            <h5 _ngcontent-rhp-c92="" class="card-title">Was the client present</h5>
                            <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                                <input _ngcontent-rhp-c92="" type="checkbox" id="was_the_client_present" 
                                class="check" name="was_the_client_present" [checked]="was_the_client_present === true" 
                                [ngModelOptions]="{standalone: true}" [(ngModel)]="was_the_client_present">
                                <label _ngcontent-rhp-c92="" for="was_the_client_present" class="checktoggle" value="true">checkbox</label>
                            </div>
                        </div>
                    </div>
                </div>

                  <div class="col-12 col-md-6 ">
                    <div class="form-group local-forms">
                      <label
                        >Asked and clarified questions about the implementation of <span class="login-danger">*</span></label
                      >
                      <input
                        class="form-control"
                        name="asked_and_clarified_questions_about_the_implementation_of"
                        
                        [(ngModel)]="asked_and_clarified_questions_about_the_implementation_of"
                        type="text"
                      />
                    </div>
                  </div>
                <div class="col-12 col-md-6 ">
                  <div class="form-group local-forms">
                    <label
                      >Reinforced caregiver strengths in <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="reinforced_caregiver_strengths_in"
                      
                      [(ngModel)]="reinforced_caregiver_strengths_in"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 ">
                  <div class="form-group local-forms">
                    <label
                      >Gave constructive feedback on <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="gave_constructive_feedback_on"
                      
                      [(ngModel)]="gave_constructive_feedback_on"
                      type="text"
                    />
                  </div>
                </div>
                <div class="col-12 col-md-6 ">
                  <div class="form-group local-forms">
                    <label
                      >recomended more practice on <span class="login-danger">*</span></label
                    >
                    <input
                      class="form-control"
                      name="recomended_more_practice_on"
                      
                      [(ngModel)]="recomended_more_practice_on"
                      type="text"
                    />
                  </div>
                </div>
                </div>

                
              </div>
            </div>
          </div>
        </div>
        <!-- formulario varios -->
      </ng-container>
       <!--   only 55-->
      <ng-container  *ngIf=" show97155" >
           
            <!-- Intervention protocols -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <app-interventions2
                  [interventionsList]="interventionsList"
                  (interventionsChange)="onInterventionsChange($event)"
                  ></app-interventions2>
                </div>
              </div>
            </div>
            <!-- Intervention protocols -->
            <!-- replacements protocols -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <app-replacements2 [replacementList]="replacementList"
                  (replacementChange)="onReplacementChange($event)"></app-replacements2>
                </div>
              </div>
            </div>
            <!-- replacements protocols -->
            <!-- modifications needed at this time -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <div class="col-12">
                    
                    <h4 _ngcontent-rhp-c92="" class="card-title">Modifications needed at this time</h4>
                    <div class="form-group ">
                      <div _ngcontent-rhp-c92="" class="status-toggle d-flex justify-content-between align-items-center">
                        <input _ngcontent-rhp-c92="" type="checkbox" 
                        id="modifications_needed_at_this_time"  class="check"
                         name="modifications_needed_at_this_time" [checked]="modifications_needed_at_this_time === true" 
                         [ngModelOptions]="{standalone: true}" 
                         [(ngModel)]="modifications_needed_at_this_time">
                        <label _ngcontent-rhp-c92="" for="modifications_needed_at_this_time" class="checktoggle" value="true">checkbox</label>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- modifications needed at this time -->
            <!-- additional goals or interventions: -->
            <div class="col-xs-12" >
              <div class="card">
                <div class="card-body">
                  <div class="col-12">
                    <h5>Additional Goals or Interventions:</h5>
                    <div class="col-12">
                      <div class="form-group local-forms">
                        <textarea
                          class="form-control"
                          name="additional_goals_or_interventions"
                          [(ngModel)]="additional_goals_or_interventions"
                          rows="4"
                          cols="30"
                        ></textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- additional goals or interventions: -->
      </ng-container>
      <!-- fin  -->


      <!-- Sumary note -->
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <form autocomplete="false">
              <!-- paciente -->
              <div class="row align-items-center py-4">
                <div class="col-12">
                  <div class="form-group local-forms">
                    <label
                      >Summary Note<span class="login-danger">*</span></label
                    >
                    <textarea
                      class="form-control"
                      name="summary_note"
                      [(ngModel)]="summary_note"
                      rows="4"
                      cols="30"
                    ></textarea>
                    <button
                      class="btn btn-primary ml-2 btn-sm"
                      (click)="generateAISummary()"
                      [disabled]="isGeneratingSummary"
                    >
                      {{
                        isGeneratingSummary
                          ? "Generating..."
                          : "Generate AI Summary"
                      }}
                    </button>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <label
                      >Provider name BCBA
                      <span class="login-danger">*</span></label
                    >
                    <mat-select
                      [(ngModel)]="selectedValueProviderRBT_id"
                      name="rbt"
                      [ngModelOptions]="{ standalone: true }"
                      class="form-control select"
                      (selectionChange)="selectFirmaSpecialistRbt($event)"
                      placeholder="Select Specialist"
                    >
                      <mat-option
                        *ngFor="let data of roles_bcba"
                        [value]="data.id"
                      >
                        {{ data.name }} {{ data.surname }}
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-6">
                  <div class="form-group local-top-form">
                    <label class="local-top"
                      >Provider Signature
                      <span class="login-danger">*</span></label
                    >
                  </div>

                  <!-- previsualizacion de la foto -->
                  <div *ngIf="FILE_SIGNATURE_RBT">
                    <img
                      [src]="IMAGE_PREVISUALIZA_SIGNATURE__RBT"
                      style="width: 250px"
                      alt=""
                    />
                  </div>
                  <div *ngIf="IMAGE_PREVISUALIZA_SIGNATURE__RBT_CREATED">
                    <img
                      [src]="IMAGE_PREVISUALIZA_SIGNATURE__RBT_CREATED"
                      style="width: 250px"
                      alt=""
                    />
                  </div>
                  <!-- previsualizacion de la foto -->
                </div>

                <div class="col-12 col-md-6 col-xl-4">
                  <div class="form-group local-forms">
                    <div class="form-group local-forms">
                      <label
                        >Supervisor name BCBA
                        <span class="login-danger">*</span></label
                      >
                      <mat-select
                        [(ngModel)]="selectedValueBcba_id"
                        (selectionChange)="selectFirmaSpecialistBcba($event)"
                        name="bcba"
                        [ngModelOptions]="{ standalone: true }"
                        class="form-control select"
                        placeholder="Select Specialist"
                      >
                        <mat-option
                          *ngFor="let data of specialists"
                          [value]="data.id"
                        >
                          {{ data.name }} {{ data.surname }}
                        </mat-option>
                      </mat-select>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-6">
                  <div class="form-group local-top-form">
                    <label class="local-top"
                      >Supervisor Signature
                      <span class="login-danger">*</span></label
                    >
                    <!-- <div class="settings-btn upload-files-avator">
                                            <input type="file" accept="image/*" name="imagenn" id="file1" (change)="loadFileSignature($event)" class="hide-input">
                                            <label for="file1" class="upload">Choose File</label>
                                        </div> -->
                  </div>

                  <!-- previsualizacion de la foto -->
                  <div *ngIf="FILE_SIGNATURE_BCBA">
                    <img
                      [src]="IMAGE_PREVISUALIZA_SIGNATURE_BCBA"
                      style="width: 250px"
                      alt=""
                    />
                  </div>
                  <div *ngIf="IMAGE_PREVISUALIZA_SIGNATURE_BCBA_CREATED">
                    <img
                      [src]="IMAGE_PREVISUALIZA_SIGNATURE_BCBA_CREATED"
                      style="width: 250px"
                      alt=""
                    />
                  </div>
                  <!-- previsualizacion de la foto -->
                </div>
              </div>
              <!-- paciente -->

              <div class="col-12">
                <div class="doctor-submit text-end">
                  <button
                    type="button"
                    class="btn btn-primary submit-form me-2"
                    (click)="save()"
                  >
                    Save
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- fin paciente -->
    </div>
  </div>
</div>
